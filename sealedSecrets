Install Sealed Secrets:

kubectl apply -f https://github.com/bitnami-labs/sealed-secrets/releases/download/v0.24.0/controller.yaml

Install kubeseal CLI:

wget https://github.com/bitnami-labs/sealed-secrets/releases/download/v0.24.0/kubeseal-0.24.0-linux-amd64.tar.gz
tar -xvzf kubeseal-0.24.0-linux-amd64.tar.gz
sudo mv kubeseal /usr/local/bin/

Convert your secrets:

kubeseal -f base/laravel/laravel-env.yaml -w base/laravel/laravel-env-sealed.yaml
kubeseal -f base/mysql/mysql-secrets.yaml -w base/mysql/mysql-secrets-sealed.yaml

# add only the sealed files o kustomization

# u have to delte the plain file from kustomization 

# add the plain text file to the gitignore file 


cd /home/aemam/wsl-projects/laravel-gitops-k8s-Copy
git rm --cached base/laravel/laravel-env.yaml base/mysql/mysql-secrets.yaml
git add .gitignore base/laravel/kustomization.yaml base/mysql/kustomization.yaml
git commit -m "Security: Use sealed secrets, remove plain text from Git"
git push